"use strict";(self.webpackChunklearn_data=self.webpackChunklearn_data||[]).push([[3508],{395:(i,s,e)=>{e.r(s),e.d(s,{comp:()=>h,data:()=>l});var a=e(362);const n={},h=(0,e(5726).A)(n,[["render",function(i,s){return(0,a.uX)(),(0,a.CE)("div",null,[...s[0]||(s[0]=[(0,a.Fv)('<h2 id="linux-centos查看ip" tabindex="-1"><a class="header-anchor" href="#linux-centos查看ip"><span>linux-centos查看ip</span></a></h2><p>在 VMware 中运行的 CentOS 虚拟机中，你可以通过以下方法查看 IP 地址：</p><hr><h3 id="方法一-使用-ip-命令" tabindex="-1"><a class="header-anchor" href="#方法一-使用-ip-命令"><span>方法一：使用 <code>ip</code> 命令</span></a></h3><p>这是最常用的方法：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">ip</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> addr</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>在输出中找到与网卡对应的 <code>ens33</code> 或 <code>eth0</code> 等设备，查看 <code>inet</code> 后面的 IP 地址。例如：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">2:</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> ens33:</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> &lt;</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">BROADCAST,MULTICAST,UP,LOWER_U</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;">P&gt; </span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">mtu</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 1500</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> qdisc</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> pfifo_fast</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> state</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> UP</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> group</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> default</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> qlen</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 1000</span></span>\n<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">    inet</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> 192.168.1.100/24</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> brd</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 192.168.1.255</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> scope</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> global</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> dynamic</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> ens33</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p>此处 <code>192.168.1.100</code> 就是虚拟机的 IP 地址。</p><hr><h3 id="方法二-使用-ifconfig-命令" tabindex="-1"><a class="header-anchor" href="#方法二-使用-ifconfig-命令"><span>方法二：使用 <code>ifconfig</code> 命令</span></a></h3><p>如果系统安装了 <code>net-tools</code> 工具包，可以使用：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">ifconfig</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>在输出中找到网卡（如 <code>ens33</code> 或 <code>eth0</code>），查看 <code>inet</code> 后的 IP 地址。</p><p>如果 <code>ifconfig</code> 命令不可用，可以安装 <code>net-tools</code>：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">yum</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> install</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -y</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> net-tools</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><hr><h3 id="方法三-查看网络连接信息" tabindex="-1"><a class="header-anchor" href="#方法三-查看网络连接信息"><span>方法三：查看网络连接信息</span></a></h3><p>使用 <code>nmcli</code> 命令：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">nmcli</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> connection</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> show</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>或者：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">nmcli</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> device</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> show</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> ens33</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>输出中会包含 IP 地址。</p><hr><h3 id="方法四-通过-dhcp-客户端查看" tabindex="-1"><a class="header-anchor" href="#方法四-通过-dhcp-客户端查看"><span>方法四：通过 DHCP 客户端查看</span></a></h3><p>如果虚拟机使用 DHCP 分配 IP，可以查看 DHCP 分配的地址：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">cat</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> /var/lib/dhclient/dhclient.leases</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><hr><h3 id="方法五-使用-hostname-命令" tabindex="-1"><a class="header-anchor" href="#方法五-使用-hostname-命令"><span>方法五：使用 <code>hostname</code> 命令</span></a></h3><p>可以直接查看当前主机的 IP 地址：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">hostname</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -I</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><hr><h3 id="注意事项" tabindex="-1"><a class="header-anchor" href="#注意事项"><span>注意事项</span></a></h3><ol><li><p><strong>确保网卡已启动</strong>： 如果网卡未启动，可以尝试以下命令启用：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">ip</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> link</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> set</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> ens33</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> up</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>或者：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">nmcli</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> connection</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> up</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> ens33</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div></li><li><p><strong>确保网络配置正确</strong>： 检查 <code>/etc/sysconfig/network-scripts/ifcfg-ens33</code> 文件是否正确配置：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">cat</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> /etc/sysconfig/network-scripts/ifcfg-ens33</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div></li></ol><h2 id="linux-centos虚拟机网络问题" tabindex="-1"><a class="header-anchor" href="#linux-centos虚拟机网络问题"><span>linux-centos虚拟机网络问题</span></a></h2><figure><img src="/images/局部截取_20251018_215747.png" alt="/images/局部截取_20251018_215747.png" tabindex="0" loading="lazy"><figcaption>/images/局部截取_20251018_215747.png</figcaption></figure><p>根据提供的错误信息和截图，问题出在 CentOS 网络服务 (<code>network.service</code>) 启动失败，具体分析如下：</p><hr><h3 id="错误详情" tabindex="-1"><a class="header-anchor" href="#错误详情"><span>错误详情：</span></a></h3><ol><li><p><strong>关键错误信息</strong>：</p><ul><li><code>Failed to start LSB: Bring up/down networking</code></li><li><code>RTNETLINK answers: File exists</code></li><li><code>Unit network.service entered failed state</code></li></ul></li><li><p><strong>原因可能</strong>：</p><ul><li>网络配置文件 (<code>ifcfg-ens33</code>) 中存在错误导致网络服务无法启动。</li><li>网络服务尝试加载时发现冲突，可能是重复的配置或错误的参数。</li><li>网络设备驱动或硬件问题。</li></ul></li></ol><hr><h3 id="解决方法" tabindex="-1"><a class="header-anchor" href="#解决方法"><span>解决方法：</span></a></h3><h4 id="_1-检查网络配置文件" tabindex="-1"><a class="header-anchor" href="#_1-检查网络配置文件"><span>1. 检查网络配置文件</span></a></h4><p>网络配置文件路径通常在 <code>/etc/sysconfig/network-scripts/</code> 中。找到你的 <code>ifcfg-ens33</code> 文件并检查内容：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">cat</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> /etc/sysconfig/network-scripts/ifcfg-ens33</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>确保以下关键字段设置正确：</p><ul><li><code>BOOTPROTO=dhcp</code> 或 <code>BOOTPROTO=static</code>（通常是 <code>dhcp</code> 动态分配或 <code>static</code> 静态配置）</li><li><code>ONBOOT=yes</code>（确保网络服务在启动时启用）</li><li>如果是静态 IP，检查 <code>IPADDR</code>、<code>NETMASK</code>、<code>GATEWAY</code> 的值是否正确。</li></ul><p>示例：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">TYPE</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">Ethernet</span></span>\n<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">BOOTPROTO</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">dhcp</span></span>\n<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">ONBOOT</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">yes</span></span>\n<span class="line"><span style="--shiki-light:#E45649;--shiki-dark:#E06C75;">DEVICE</span><span style="--shiki-light:#383A42;--shiki-dark:#56B6C2;">=</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;">ens33</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h4 id="_2-检查冲突配置" tabindex="-1"><a class="header-anchor" href="#_2-检查冲突配置"><span>2. 检查冲突配置</span></a></h4><p>检查是否存在重复或冲突的网络配置文件：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">ls</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> /etc/sysconfig/network-scripts/</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>如果有多个类似 <code>ifcfg-ens33</code> 的配置文件，可能会导致冲突，删除冗余文件。</p><h4 id="_3-重启网络服务" tabindex="-1"><a class="header-anchor" href="#_3-重启网络服务"><span>3. 重启网络服务</span></a></h4><p>尝试以下命令重启网络服务：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">systemctl</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> restart</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> network.service</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>如果仍然报错，查看详细日志：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">journalctl</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -xe</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h4 id="_4-使用-nmcli-工具检查网络状态" tabindex="-1"><a class="header-anchor" href="#_4-使用-nmcli-工具检查网络状态"><span>4. 使用 <code>nmcli</code> 工具检查网络状态</span></a></h4><p>如果问题持续，可以使用 <code>nmcli</code> 工具检查网络连接状态：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">nmcli</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> device</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> status</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>通过 <code>nmcli</code> 命令修复网络：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">nmcli</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> connection</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> up</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> ens33</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h4 id="_5-检查网卡驱动和状态" tabindex="-1"><a class="header-anchor" href="#_5-检查网卡驱动和状态"><span>5. 检查网卡驱动和状态</span></a></h4><p>检查网卡是否正常工作：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">ip</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> link</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> show</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>如果发现网卡状态为 <code>DOWN</code>，尝试启用网卡：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">ip</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> link</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> set</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> dev</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> ens33</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> up</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><h4 id="_6-重新加载网络配置" tabindex="-1"><a class="header-anchor" href="#_6-重新加载网络配置"><span>6. 重新加载网络配置</span></a></h4><p>在修改配置后，重新加载网络配置：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">nmcli</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> connection</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> reload</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><hr><h3 id="其他建议" tabindex="-1"><a class="header-anchor" href="#其他建议"><span>其他建议：</span></a></h3><ul><li>如果以上方法均无效，可能需要重置网络配置：<div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">mv</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> /etc/sysconfig/network-scripts/ifcfg-ens33</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> /root/backup-ifcfg-ens33</span></span>\n<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">nmcli</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> connection</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> add</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> type</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> ethernet</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> con-name</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> ens33</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> ifname</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> ens33</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div></li><li>如果问题与驱动或硬件相关，检查网卡模块：<div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">lspci</span><span style="--shiki-light:#383A42;--shiki-dark:#ABB2BF;"> | </span><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">grep</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -i</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> ethernet</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div></li></ul><hr><p>如果还有问题，请提供 <code>ifcfg-ens33</code> 的内容或 <code>journalctl -xe</code> 的日志信息，以便进一步排查。</p><h2 id="linux-centos虚拟机设置固定ip" tabindex="-1"><a class="header-anchor" href="#linux-centos虚拟机设置固定ip"><span>linux-centos虚拟机设置固定ip</span></a></h2><p>参考文档： <a href="https://cloud.tencent.com/developer/article/2420816" target="_blank" rel="noopener noreferrer">https://cloud.tencent.com/developer/article/2420816</a></p><h2 id="linux-centos虚拟机安装报错" tabindex="-1"><a class="header-anchor" href="#linux-centos虚拟机安装报错"><span>linux-centos虚拟机安装报错</span></a></h2><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-"><span class="line"><span>[root@centos ~]# yum install -y net-tools</span></span>\n<span class="line"><span>Loaded plugins: fastestmirror</span></span>\n<span class="line"><span>Determining fastest mirrors</span></span>\n<span class="line"><span>Could not retrieve mirrorlist http://mirrorlist.centos.org/?release=7&amp;arch=x86_64&amp;repo=os&amp;infra=stock error was</span></span>\n<span class="line"><span>14: curl#6 - &quot;Could not resolve host: mirrorlist.centos.org; Unknown error&quot;</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>你的问题是因为 CentOS 无法解析镜像地址 <code>mirrorlist.centos.org</code>，可能是 DNS 配置错误或网络连接问题。以下是解决方法：</p><hr><h3 id="方法一-检查网络连接" tabindex="-1"><a class="header-anchor" href="#方法一-检查网络连接"><span>方法一：检查网络连接</span></a></h3><ol><li><p>确保你的虚拟机网络已连接：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">ping</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -c</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 4</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> www.google.com</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>如果报错 <code>ping: unknown host</code>，说明网络连接有问题。</p></li><li><p>检查网卡状态：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">ip</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> addr</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><p>确保网卡（如 <code>ens33</code>）已启动并有 IP 地址。如果没有 IP 地址，尝试启动网卡：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">nmcli</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> connection</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> up</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> ens33</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div></li></ol><hr><h3 id="方法二-配置-dns" tabindex="-1"><a class="header-anchor" href="#方法二-配置-dns"><span>方法二：配置 DNS</span></a></h3><p>如果网络连接正常，但仍无法解析域名，可以手动配置 DNS：</p><ol><li><p>编辑 <code>/etc/resolv.conf</code> 文件：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">vi</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> /etc/resolv.conf</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div></li><li><p>添加以下内容：</p><div class="language- line-numbers-mode" data-highlighter="shiki" data-ext="" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-"><span class="line"><span>nameserver 8.8.8.8</span></span>\n<span class="line"><span>nameserver 8.8.4.4</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div><p>保存并退出。</p></li><li><p>测试 DNS 配置：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">ping</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -c</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> 4</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> mirrorlist.centos.org</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div></li></ol><hr><h3 id="方法三-更换镜像源" tabindex="-1"><a class="header-anchor" href="#方法三-更换镜像源"><span>方法三：更换镜像源</span></a></h3><p>CentOS 7 默认使用的镜像源可能已经不可用，可以更换为国内镜像源，例如阿里云或清华大学源：</p><ol><li><p>备份原有的 <code>yum</code> 配置：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">mv</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> /etc/yum.repos.d/CentOS-Base.repo</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> /etc/yum.repos.d/CentOS-Base.repo.bak</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div></li><li><p>下载新的镜像源配置文件：</p><ul><li>阿里云：<div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">curl</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -o</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> /etc/yum.repos.d/CentOS-Base.repo</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> http://mirrors.aliyun.com/repo/Centos-7.repo</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div></li><li>清华大学：<div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">curl</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -o</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> /etc/yum.repos.d/CentOS-Base.repo</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> https://mirrors.tuna.tsinghua.edu.cn/repo/centos7.repo</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div></li></ul></li><li><p>清理缓存并重新生成缓存：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">yum</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> clean</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> all</span></span>\n<span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">yum</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> makecache</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div><div class="line-number"></div></div></div></li></ol><hr><h3 id="方法四-临时解决" tabindex="-1"><a class="header-anchor" href="#方法四-临时解决"><span>方法四：临时解决</span></a></h3><p>如果以上方法都无法解决，可以尝试禁用有问题的仓库：</p><div class="language-bash line-numbers-mode" data-highlighter="shiki" data-ext="bash" style="--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34;"><pre class="shiki shiki-themes one-light one-dark-pro vp-code"><code class="language-bash"><span class="line"><span style="--shiki-light:#4078F2;--shiki-dark:#61AFEF;">yum</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> install</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> -y</span><span style="--shiki-light:#50A14F;--shiki-dark:#98C379;"> net-tools</span><span style="--shiki-light:#986801;--shiki-dark:#D19A66;"> --disablerepo=base</span></span></code></pre><div class="line-numbers" aria-hidden="true" style="counter-reset:line-number 0;"><div class="line-number"></div></div></div><hr><h3 id="方法五-检查网络模式-vmware" tabindex="-1"><a class="header-anchor" href="#方法五-检查网络模式-vmware"><span>方法五：检查网络模式（VMware）</span></a></h3><ol><li>确保 VMware 的网络模式为 <strong>NAT</strong> 或 <strong>桥接</strong>。</li><li>在虚拟机设置中检查网卡是否启用。</li></ol><hr>',100)])])}]]),l=JSON.parse('{"path":"/deploy/environment/VMWare.html","title":"VMWare虚拟机","lang":"zh-CN","frontmatter":{"article":false,"title":"VMWare虚拟机","icon":"lineicons:vmware","order":1,"description":"linux-centos查看ip 在 VMware 中运行的 CentOS 虚拟机中，你可以通过以下方法查看 IP 地址： 方法一：使用 ip 命令 这是最常用的方法： 在输出中找到与网卡对应的 ens33 或 eth0 等设备，查看 inet 后面的 IP 地址。例如： 此处 192.168.1.100 就是虚拟机的 IP 地址。 方法二：使用 if...","head":[["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"WebPage\\",\\"name\\":\\"VMWare虚拟机\\",\\"description\\":\\"linux-centos查看ip 在 VMware 中运行的 CentOS 虚拟机中，你可以通过以下方法查看 IP 地址： 方法一：使用 ip 命令 这是最常用的方法： 在输出中找到与网卡对应的 ens33 或 eth0 等设备，查看 inet 后面的 IP 地址。例如： 此处 192.168.1.100 就是虚拟机的 IP 地址。 方法二：使用 if...\\"}"],["meta",{"property":"og:url","content":"https://newzone.top/deploy/environment/VMWare.html"}],["meta",{"property":"og:site_name","content":"学习笔记"}],["meta",{"property":"og:title","content":"VMWare虚拟机"}],["meta",{"property":"og:description","content":"linux-centos查看ip 在 VMware 中运行的 CentOS 虚拟机中，你可以通过以下方法查看 IP 地址： 方法一：使用 ip 命令 这是最常用的方法： 在输出中找到与网卡对应的 ens33 或 eth0 等设备，查看 inet 后面的 IP 地址。例如： 此处 192.168.1.100 就是虚拟机的 IP 地址。 方法二：使用 if..."}],["meta",{"property":"og:type","content":"website"}],["meta",{"property":"og:image","content":"https://newzone.top/images/局部截取_20251018_215747.png"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2025-10-19T01:11:13.000Z"}],["meta",{"property":"article:modified_time","content":"2025-10-19T01:11:13.000Z"}]]},"git":{"createdTime":1760798376000,"updatedTime":1760836273000,"contributors":[{"name":"SDF001","username":"SDF001","email":"1026619596@qq.com","commits":2,"url":"https://github.com/SDF001"}]},"readingTime":{"minutes":4.6,"words":1379},"filePathRelative":"deploy/environment/VMWare.md","excerpt":"<h2>linux-centos查看ip</h2>\\n<p>在 VMware 中运行的 CentOS 虚拟机中，你可以通过以下方法查看 IP 地址：</p>\\n<hr>\\n<h3>方法一：使用 <code>ip</code> 命令</h3>\\n<p>这是最常用的方法：</p>\\n<div class=\\"language-bash line-numbers-mode\\" data-highlighter=\\"shiki\\" data-ext=\\"bash\\" style=\\"--shiki-light:#383A42;--shiki-dark:#abb2bf;--shiki-light-bg:#FAFAFA;--shiki-dark-bg:#282c34\\"><pre class=\\"shiki shiki-themes one-light one-dark-pro vp-code\\"><code class=\\"language-bash\\"><span class=\\"line\\"><span style=\\"--shiki-light:#4078F2;--shiki-dark:#61AFEF\\">ip</span><span style=\\"--shiki-light:#50A14F;--shiki-dark:#98C379\\"> addr</span></span></code></pre>\\n<div class=\\"line-numbers\\" aria-hidden=\\"true\\" style=\\"counter-reset:line-number 0\\"><div class=\\"line-number\\"></div></div></div>","autoDesc":true}')}}]);